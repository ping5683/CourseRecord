# è¯¾ç¨‹ç®¡ç†APP

##  æ ¸å¿ƒä»·å€¼
ä¸€ä¸ªç”¨AIè¾…åŠ©å¼€å‘çš„ä¸ªäººæ•ˆç‡å·¥å…·ï¼Œæ—¨åœ¨è§£å†³ **â€œé¢„ä»˜è´¹è¯¾ç¨‹ï¼ˆå¦‚åŸ¹è®­ã€å¥èº«ï¼‰æ¶ˆè´¹è¿›åº¦ä¸é€æ˜ã€ç”¨æˆ·ä¾èµ–æœºæ„åé¦ˆã€è‡ªä¸»ç®¡ç†å›°éš¾â€** çš„ç—›ç‚¹ã€‚é€šè¿‡è½»é‡åŒ–çš„GoæŠ€æœ¯æ ˆä¸AIåä½œå¼€å‘ï¼Œå®ç°ç”¨æˆ·å¯¹è‡ªæœ‰è¯¾ç¨‹èµ„äº§çš„æ¸…æ™°æŒæ§ã€‚

## è§£å†³çš„é—®é¢˜åœºæ™¯ 
- å®¶é•¿ä¸çŸ¥é“å­©å­åŸ¹è®­ç­å‰©ä½™è¯¾æ—¶æ•°ï¼Œéœ€åå¤è”ç³»æœºæ„  
- å¥èº«ä¼šå‘˜è®°ä¸æ¸…ç§æ•™è¯¾ä½¿ç”¨è¿›åº¦ï¼Œæ˜“äº§ç”Ÿæ¶ˆè´¹çº çº·  
- å¤šè¯¾ç¨‹å¹¶è¡Œæ—¶ï¼Œäººå·¥è®°å½•è¯¾æ—¶ä¸ä¸Šè¯¾æé†’å®¹æ˜“é—æ¼  


## åŠŸèƒ½ç‰¹æ€§

- ğŸ“š è¯¾ç¨‹ç®¡ç†ï¼šæ·»åŠ åŸ¹è®­ç­ã€å¥èº«å¡ã€ç¾å®¹å¡ç­‰æœåŠ¡
- â° æ™ºèƒ½æé†’ï¼šä¸Šè¯¾å‰ä¸€å¤©è‡ªåŠ¨æ¨é€æé†’
- ğŸ“Š æ¶ˆè¯¾ç»Ÿè®¡ï¼šè‡ªåŠ¨è®¡ç®—å‰©ä½™è¯¾ç¨‹æ¬¡æ•°
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…ï¼šå“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ‰‹æœºä½¿ç”¨
- ğŸ“¸ åˆåŒç®¡ç†ï¼šæ”¯æŒä¸Šä¼ å’Œç®¡ç†è¯¾ç¨‹åˆåŒ
- âœï¸ çµæ´»ç¼–è¾‘ï¼šå¯ç¼–è¾‘è¯¾ç¨‹åç§°ã€è¯¾æ—¶æ•°ç­‰ä¿¡æ¯



## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Go 1.21+
- **æ¡†æ¶**: Gin
- **æ•°æ®åº“**: SQLite (è½»é‡çº§ï¼Œæ˜“éƒ¨ç½²)
- **ORM**: GORM
- **æ¨é€æœåŠ¡**: Web Push API (æ”¯æŒPWA)

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React + TypeScript
- **UIåº“**: Ant Design Mobile
- **çŠ¶æ€ç®¡ç†**: React Context + useReducer
- **æ„å»ºå·¥å…·**: Vite
- **PWA**: æ”¯æŒå®‰è£…åˆ°æ‰‹æœºæ¡Œé¢

## é¡¹ç›®æ¶æ„æ¦‚è§ˆ

æœ¬é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–çš„è¯¾ç¨‹ç®¡ç†åº”ç”¨ã€‚

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/REST API    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                 â”‚
â”‚   å‰ç«¯ (React)   â”‚                     â”‚  åç«¯ (Go Gin)  â”‚
â”‚   - ç”¨æˆ·ç•Œé¢     â”‚                     â”‚   - ä¸šåŠ¡é€»è¾‘    â”‚
â”‚   - çŠ¶æ€ç®¡ç†     â”‚                     â”‚   - æ•°æ®å¤„ç†    â”‚
â”‚   - PWAæ”¯æŒ     â”‚                     â”‚   - æ¨é€æœåŠ¡    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
                                                â–¼
                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                       â”‚                 â”‚
                                       â”‚  æ•°æ®åº“ (SQLite) â”‚
                                       â”‚   - ç”¨æˆ·æ•°æ®     â”‚
                                       â”‚   - è¯¾ç¨‹ä¿¡æ¯     â”‚
                                       â”‚   - å‡ºå‹¤è®°å½•     â”‚
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ¶æ„

#### åç«¯æŠ€æœ¯æ ˆ (Go)
- **æ¡†æ¶**: Gin - é«˜æ€§èƒ½HTTP Webæ¡†æ¶ï¼Œæä¾›è·¯ç”±ã€ä¸­é—´ä»¶æ”¯æŒ
- **æ•°æ®åº“**: SQLite - è½»é‡çº§å…³ç³»å‹æ•°æ®åº“ï¼Œæ— éœ€é¢å¤–å®‰è£…
- **ORM**: GORM - Goè¯­è¨€å¯¹è±¡å…³ç³»æ˜ å°„åº“ï¼Œç®€åŒ–æ•°æ®åº“æ“ä½œ
- **è®¤è¯**: JWT (JSON Web Tokens) - æ— çŠ¶æ€è®¤è¯æœºåˆ¶
- **ä»»åŠ¡è°ƒåº¦**: å†…ç½®å®šæ—¶å™¨ - å¤„ç†è¯¾ç¨‹æé†’ç­‰åå°ä»»åŠ¡

#### å‰ç«¯æŠ€æœ¯æ ˆ (React + TypeScript)
- **æ¡†æ¶**: React 18 + TypeScript - ç»„ä»¶åŒ–UIå¼€å‘
- **UIåº“**: Ant Design Mobile - ä¸“ä¸ºç§»åŠ¨ç«¯è®¾è®¡çš„Reactç»„ä»¶åº“
- **çŠ¶æ€ç®¡ç†**: React Context + useReducer - è½»é‡çº§çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
- **æ„å»ºå·¥å…·**: Vite - å¿«é€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·
- **PWA**: Service Worker + Web App Manifest - æ”¯æŒç¦»çº¿ä½¿ç”¨å’Œæ‰‹æœºå®‰è£…

## é¡¹ç›®ç»“æ„ä¸æ¨¡å—è¯´æ˜

```
project-memory/
â”œâ”€â”€ backend-go/              # ğŸš€ Goåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ main.go             # ğŸ“¥ åº”ç”¨å…¥å£ - åˆå§‹åŒ–è·¯ç”±ã€æ•°æ®åº“è¿æ¥ã€å¯åŠ¨æœåŠ¡å™¨
â”‚   â”œâ”€â”€ config/             # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ database.go     # æ•°æ®åº“é…ç½®å’Œè¿æ¥åˆå§‹åŒ–
â”‚   â”œâ”€â”€ database/           # ğŸ—„ï¸ æ•°æ®åº“å±‚
â”‚   â”‚   â”œâ”€â”€ connection.go   # æ•°æ®åº“è¿æ¥ç®¡ç†
â”‚   â”‚   â””â”€â”€ migrations.go   # æ•°æ®åº“è¿ç§»å’Œè¡¨ç»“æ„åˆå§‹åŒ–
â”‚   â”œâ”€â”€ models/             # ğŸ“‹ æ•°æ®æ¨¡å‹ - å®šä¹‰ä¸šåŠ¡å®ä½“ç»“æ„
â”‚   â”‚   â”œâ”€â”€ user.go         # ç”¨æˆ·æ¨¡å‹ (è®¤è¯ã€ç™»å½•)
â”‚   â”‚   â”œâ”€â”€ course.go       # è¯¾ç¨‹æ¨¡å‹ (è¯¾ç¨‹ä¿¡æ¯ã€è¯¾æ—¶ç»Ÿè®¡)
â”‚   â”‚   â”œâ”€â”€ schedule.go     # è¯¾ç¨‹å®‰æ’æ¨¡å‹ (ä¸Šè¯¾æ—¶é—´ã€é‡å¤è§„åˆ™)
â”‚   â”‚   â”œâ”€â”€ attendance.go   # å‡ºå‹¤è®°å½•æ¨¡å‹ (ç­¾åˆ°ã€è¯·å‡)
â”‚   â”‚   â””â”€â”€ consumption.go  # æ¶ˆè¯¾è®°å½•æ¨¡å‹ (è¯¾æ—¶æ¶ˆè€—)
â”‚   â”œâ”€â”€ handlers/           # ğŸ¯ HTTPå¤„ç†å™¨ - å¤„ç†APIè¯·æ±‚
â”‚   â”‚   â”œâ”€â”€ auth.go         # è®¤è¯ç›¸å…³ (ç™»å½•ã€æ³¨å†Œã€JWTéªŒè¯)
â”‚   â”‚   â”œâ”€â”€ course.go       # è¯¾ç¨‹CRUDæ“ä½œ
â”‚   â”‚   â”œâ”€â”€ schedule.go     # è¯¾ç¨‹å®‰æ’ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ attendance.go   # å‡ºå‹¤ç®¡ç† (ç­¾åˆ°ã€è¯·å‡å¤„ç†)
â”‚   â”‚   â”œâ”€â”€ upload.go       # æ–‡ä»¶ä¸Šä¼  (åˆåŒå›¾ç‰‡)
â”‚   â”‚   â””â”€â”€ stats.go        # ç»Ÿè®¡æ•°æ®æ¥å£
â”‚   â”œâ”€â”€ middleware/         # ğŸ”§ ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.go         # JWTè®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ cors.go         # è·¨åŸŸå¤„ç†ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ services/           # ğŸ’¼ ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ auth.go         # è®¤è¯æœåŠ¡ (å¯†ç åŠ å¯†ã€tokenç”Ÿæˆ)
â”‚   â”‚   â”œâ”€â”€ course.go       # è¯¾ç¨‹ä¸šåŠ¡é€»è¾‘ (è¯¾æ—¶è®¡ç®—ã€æ¶ˆè¯¾)
â”‚   â”‚   â”œâ”€â”€ notification.go # æ¨é€æœåŠ¡ (è¯¾ç¨‹æé†’)
â”‚   â”‚   â””â”€â”€ scheduler.go    # å®šæ—¶ä»»åŠ¡æœåŠ¡ (æ¯å°æ—¶æ£€æŸ¥æé†’)
â”‚   â”œâ”€â”€ utils/              # ğŸ› ï¸ å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ response.go     # ç»Ÿä¸€APIå“åº”æ ¼å¼
â”‚   â”‚   â””â”€â”€ validator.go    # æ•°æ®éªŒè¯å·¥å…·
â”‚   â”œâ”€â”€ scripts/            # ğŸ“ è„šæœ¬æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ init.go         # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚   â””â”€â”€ seed.go         # æµ‹è¯•æ•°æ®ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ uploads/            # ğŸ“ æ–‡ä»¶ä¸Šä¼ ç›®å½• (åˆåŒå›¾ç‰‡)
â”‚
â”œâ”€â”€ frontend/               # ğŸ¨ Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # ğŸ§© å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout/     # å¸ƒå±€ç»„ä»¶ (å¯¼èˆªæ ã€åº•éƒ¨èœå•)
â”‚   â”‚   â”‚   â”œâ”€â”€ CourseCard/ # è¯¾ç¨‹å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceButton/ # å‡ºå‹¤æŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Notification/ # é€šçŸ¥ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # ğŸ“± é¡µé¢ç»„ä»¶ (è·¯ç”±å¯¹åº”çš„é¡µé¢)
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx   # ç™»å½•é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Courses.tsx # è¯¾ç¨‹åˆ—è¡¨é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ CourseDetail.tsx # è¯¾ç¨‹è¯¦æƒ…é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Attendance.tsx # å‡ºå‹¤ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Profile.tsx # ä¸ªäººä¸­å¿ƒé¡µé¢
â”‚   â”‚   â”œâ”€â”€ services/       # ğŸŒ APIæœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts      # APIåŸºç¡€é…ç½®å’Œæ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts     # è®¤è¯ç›¸å…³API
â”‚   â”‚   â”‚   â”œâ”€â”€ course.ts   # è¯¾ç¨‹ç›¸å…³API
â”‚   â”‚   â”‚   â””â”€â”€ upload.ts   # æ–‡ä»¶ä¸Šä¼ API
â”‚   â”‚   â”œâ”€â”€ types/          # ğŸ“ TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts     # ç”¨æˆ·ç›¸å…³ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ course.ts   # è¯¾ç¨‹ç›¸å…³ç±»å‹
â”‚   â”‚   â”‚   â””â”€â”€ api.ts      # APIå“åº”ç±»å‹
â”‚   â”‚   â”œâ”€â”€ hooks/          # ğŸ£ è‡ªå®šä¹‰React Hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.ts  # è®¤è¯çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ useCourses.ts # è¯¾ç¨‹æ•°æ®ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ useNotifications.ts # é€šçŸ¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/          # ğŸ› ï¸ å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ storage.ts  # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ date.ts     # æ—¥æœŸå¤„ç†å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ notification.ts # æ¨é€é€šçŸ¥å·¥å…·
â”‚   â”‚   â”œâ”€â”€ styles/         # ğŸ¨ æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ global.css  # å…¨å±€æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ variables.css # CSSå˜é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ App.tsx         # ğŸš€ åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.tsx        # ğŸ“¥ åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ public/             # ğŸŒ é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ manifest.json   # PWAåº”ç”¨æ¸…å•
â”‚   â”‚   â””â”€â”€ sw.js          # Service Worker (ç¦»çº¿æ”¯æŒ)
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ README.md              # ğŸ“– é¡¹ç›®è¯´æ˜æ–‡æ¡£ (æœ¬æ–‡ä»¶)
â”œâ”€â”€ INSTALL.md            # ğŸ“¦ è¯¦ç»†å®‰è£…æŒ‡å—
â””â”€â”€ INSTALL-GO.md         # ğŸ”§ Goç‰ˆæœ¬ç‰¹å®šå®‰è£…æŒ‡å—
```

### æ ¸å¿ƒæ¨¡å—åŠŸèƒ½è¯´æ˜

#### ğŸ¯ è®¤è¯æ¨¡å— (Auth)
- **ä½ç½®**: `backend-go/handlers/auth.go`, `frontend/src/services/auth.ts`
- **åŠŸèƒ½**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€JWTä»¤ç‰Œç®¡ç†
- **æµç¨‹**: ç”¨æˆ·ç™»å½• â†’ ç”ŸæˆJWT â†’ å‰ç«¯å­˜å‚¨token â†’ åç»­è¯·æ±‚æºå¸¦token

#### ğŸ“š è¯¾ç¨‹ç®¡ç†æ¨¡å— (Course)
- **ä½ç½®**: `backend-go/handlers/course.go`, `frontend/src/pages/Courses.tsx`
- **åŠŸèƒ½**: è¯¾ç¨‹çš„å¢åˆ æ”¹æŸ¥ã€è¯¾æ—¶ç»Ÿè®¡ã€åˆåŒä¸Šä¼ 
- **æ ¸å¿ƒé€»è¾‘**: è¯¾æ—¶è®¡ç®— (æ­£å¼è¯¾æ—¶ + èµ é€è¯¾æ—¶ - å·²æ¶ˆè€—è¯¾æ—¶)

#### â° æé†’ç³»ç»Ÿæ¨¡å— (Notification)
- **ä½ç½®**: `backend-go/services/scheduler.go`, `frontend/src/utils/notification.ts`
- **åŠŸèƒ½**: å®šæ—¶æ£€æŸ¥æ˜æ—¥è¯¾ç¨‹ã€æ¨é€é€šçŸ¥ã€PWAæ”¯æŒ
- **å·¥ä½œåŸç†**: åç«¯æ¯å°æ—¶æ£€æŸ¥ â†’ å‰ç«¯æ¥æ”¶æé†’ â†’ æ˜¾ç¤ºé€šçŸ¥

#### ğŸ“Š å‡ºå‹¤ç®¡ç†æ¨¡å— (Attendance)
- **ä½ç½®**: `backend-go/handlers/attendance.go`, `frontend/src/pages/Attendance.tsx`
- **åŠŸèƒ½**: ç­¾åˆ°/è¯·å‡ã€è‡ªåŠ¨æ¶ˆè¯¾ã€å‡ºå‹¤ç»Ÿè®¡
- **æ¶ˆè¯¾é€»è¾‘**: ä¼˜å…ˆæ‰£é™¤æ­£å¼è¯¾æ—¶ï¼Œç”¨å®Œåå†æ‰£èµ é€è¯¾æ—¶

## æ•°æ®æµç¨‹å›¾

```mermaid
graph TD
    A[ç”¨æˆ·ç™»å½•] --> B[è·å–JWT Token]
    B --> C[æŸ¥çœ‹è¯¾ç¨‹åˆ—è¡¨]
    C --> D[æ·»åŠ æ–°è¯¾ç¨‹]
    D --> E[è®¾ç½®è¯¾ç¨‹å®‰æ’]
    E --> F[ç³»ç»Ÿå®šæ—¶æ£€æŸ¥]
    F --> G[å‘é€ä¸Šè¯¾æé†’]
    G --> H[ç”¨æˆ·ç­¾åˆ°/è¯·å‡]
    H --> I[è‡ªåŠ¨æ¶ˆè¯¾]
    I --> J[æ›´æ–°ç»Ÿè®¡æ•°æ®]
```

## æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (users)
- id: ä¸»é”®
- username: ç”¨æˆ·å
- password: å¯†ç (åŠ å¯†)
- created_at: åˆ›å»ºæ—¶é—´

### è¯¾ç¨‹è¡¨ (courses)
- id: ä¸»é”®
- user_id: ç”¨æˆ·ID
- name: è¯¾ç¨‹åç§°
- total_amount: æ€»é‡‘é¢
- regular_sessions: æ­£å¼è¯¾ç¨‹æ¬¡æ•°
- bonus_sessions: èµ é€è¯¾ç¨‹æ¬¡æ•°
- contract_path: åˆåŒæ–‡ä»¶è·¯å¾„
- created_at: åˆ›å»ºæ—¶é—´
- updated_at: æ›´æ–°æ—¶é—´

### è¯¾ç¨‹å®‰æ’è¡¨ (course_schedules)
- id: ä¸»é”®
- course_id: è¯¾ç¨‹ID
- weekday: æ˜ŸæœŸå‡ (1-7)
- start_time: å¼€å§‹æ—¶é—´
- end_time: ç»“æŸæ—¶é—´
- is_active: æ˜¯å¦å¯ç”¨

### å‡ºå‹¤è®°å½•è¡¨ (attendance_records)
- id: ä¸»é”®
- course_id: è¯¾ç¨‹ID
- schedule_date: ä¸Šè¯¾æ—¥æœŸ
- status: å‡ºå‹¤çŠ¶æ€(attend/absent/pending)
- created_at: è®°å½•æ—¶é—´

### æ¶ˆè¯¾è®°å½•è¡¨ (session_consumptions)
- id: ä¸»é”®
- course_id: è¯¾ç¨‹ID
- sessions_consumed: æ¶ˆè€—è¯¾æ—¶æ•°
- session_type: è¯¾æ—¶ç±»å‹(regular/bonus)
- attendance_id: å‡ºå‹¤è®°å½•ID
- created_at: æ¶ˆè¯¾æ—¶é—´

## å¿«é€Ÿå¼€å§‹

### ğŸš€ ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

1. **æŸ¥çœ‹è¯¦ç»†æŒ‡å—**ï¼š`deployment-test/guides/` æ–‡ä»¶å¤¹
2. **é€‰æ‹©æ•°æ®åº“**ï¼šMySQL æˆ– SQLite  
3. **ä½¿ç”¨è„šæœ¬å¯åŠ¨**ï¼š
   ```bash
   # MySQLç‰ˆæœ¬
   deployment-test/backend/start-mysql.bat
   
   # SQLiteç‰ˆæœ¬
   deployment-test/backend/start-sqlite.bat
   
   # æˆ–è€…ä½¿ç”¨äº¤äº’å¼å¯åŠ¨
   deployment-test/tools/quick-start.bat
   ```

### ğŸ“– æ‰‹åŠ¨å¯åŠ¨

#### 1. ç¯å¢ƒè¦æ±‚
- Go 1.21+ (åç«¯)
- Node.js 16+ (å‰ç«¯)
- MySQL æˆ– SQLite (æ•°æ®åº“)

#### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…Goåç«¯ä¾èµ–
cd backend
go mod tidy

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

#### 3. å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨Goåç«¯æœåŠ¡ (ç«¯å£: 3001)
cd backend
go run main.go

# å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£: 3000) 
cd ../frontend
npm run dev
```

#### 4. è®¿é—®åº”ç”¨
- å‰ç«¯åº”ç”¨: http://localhost:3000
- åç«¯API: http://localhost:3001

### ğŸ§ª æµ‹è¯•éƒ¨ç½²
è¯¦ç»†æµ‹è¯•æŒ‡å—è¯·æŸ¥çœ‹ï¼š`deployment-test/guides/` æ–‡ä»¶å¤¹

## APIæ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•

### è¯¾ç¨‹ç®¡ç†æ¥å£
- `GET /api/courses` - è·å–è¯¾ç¨‹åˆ—è¡¨
- `POST /api/courses` - åˆ›å»ºæ–°è¯¾ç¨‹
- `GET /api/courses/:id` - è·å–è¯¾ç¨‹è¯¦æƒ…
- `PUT /api/courses/:id` - æ›´æ–°è¯¾ç¨‹ä¿¡æ¯
- `DELETE /api/courses/:id` - åˆ é™¤è¯¾ç¨‹

### è¯¾ç¨‹å®‰æ’æ¥å£
- `GET /api/courses/:id/schedules` - è·å–è¯¾ç¨‹å®‰æ’
- `POST /api/courses/:id/schedules` - æ·»åŠ è¯¾ç¨‹å®‰æ’
- `PUT /api/schedules/:id` - æ›´æ–°è¯¾ç¨‹å®‰æ’
- `DELETE /api/schedules/:id` - åˆ é™¤è¯¾ç¨‹å®‰æ’

### å‡ºå‹¤ç®¡ç†æ¥å£
- `GET /api/attendance` - è·å–å‡ºå‹¤è®°å½•
- `POST /api/attendance/:courseId/checkin` - ç­¾åˆ°/è¯·å‡
- `GET /api/attendance/today` - è·å–ä»Šæ—¥è¯¾ç¨‹

### æ–‡ä»¶ä¸Šä¼ æ¥å£
- `POST /api/upload/contract` - ä¸Šä¼ åˆåŒæ–‡ä»¶

## æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### 1. æé†’ç³»ç»Ÿ
- ä½¿ç”¨æµè§ˆå™¨çš„Notification APIå‘é€æ¨é€é€šçŸ¥
- æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡ç¬¬äºŒå¤©çš„è¯¾ç¨‹å®‰æ’
- æ”¯æŒPWAå®‰è£…åˆ°æ‰‹æœºæ¡Œé¢

### 2. æ¶ˆè¯¾é€»è¾‘
- ç­¾åˆ°æ—¶è‡ªåŠ¨æ‰£é™¤1ä¸ªè¯¾æ—¶
- ä¼˜å…ˆæ‰£é™¤æ­£å¼è¯¾æ—¶ï¼Œç”¨å®Œå†æ‰£èµ é€è¯¾æ—¶
- å®æ—¶æ›´æ–°å‰©ä½™è¯¾æ—¶æ˜¾ç¤º

### 3. æ•°æ®ç»Ÿè®¡
- å‰©ä½™è¯¾æ—¶ = (æ­£å¼è¯¾æ—¶ + èµ é€è¯¾æ—¶) - å·²æ¶ˆè€—è¯¾æ—¶
- å‡ºå‹¤ç‡ç»Ÿè®¡
- è¯¾ç¨‹ä»·å€¼åˆ†æ

## å¼€å‘æŒ‡å—

### ğŸš€ å¿«é€Ÿç†è§£ä»£ç 

#### 1. åç«¯APIç»“æ„ç¤ºä¾‹
```go
// backend-go/handlers/course.go
func GetCourses(c *gin.Context) {
    // 1. è·å–ç”¨æˆ·ID (ä»JWTä¸­é—´ä»¶)
    userID := c.GetInt("user_id")
    
    // 2. æŸ¥è¯¢æ•°æ®åº“
    var courses []models.Course
    database.DB.Where("user_id = ?", userID).Find(&courses)
    
    // 3. è¿”å›JSONå“åº”
    c.JSON(http.StatusOK, gin.H{
        "success": true,
        "data":    courses,
    })
}
```

#### 2. å‰ç«¯ç»„ä»¶ç»“æ„ç¤ºä¾‹
```tsx
// frontend/src/pages/Courses.tsx
export const Courses: React.FC = () => {
    // 1. çŠ¶æ€ç®¡ç†
    const [courses, setCourses] = useState<Course[]>([]);
    
    // 2. APIè°ƒç”¨
    useEffect(() => {
        courseApi.getCourses().then(setCourses);
    }, []);
    
    // 3. UIæ¸²æŸ“
    return (
        <div>
            {courses.map(course => (
                <CourseCard key={course.id} course={course} />
            ))}
        </div>
    );
};
```

#### 3. æ•°æ®æ¨¡å‹å…³ç³»
```go
// backend-go/models/course.go
type Course struct {
    ID              uint      `json:"id" gorm:"primaryKey"`
    UserID          uint      `json:"user_id"`           // æ‰€å±ç”¨æˆ·
    Name            string    `json:"name"`              // è¯¾ç¨‹åç§°
    TotalAmount     float64   `json:"total_amount"`      // æ€»é‡‘é¢
    RegularSessions int       `json:"regular_sessions"`   // æ­£å¼è¯¾æ—¶
    BonusSessions   int       `json:"bonus_sessions"`     // èµ é€è¯¾æ—¶
    
    // å…³è”æ•°æ®
    Schedules      []CourseSchedule      `json:"schedules,omitempty"`      // è¯¾ç¨‹å®‰æ’
    Attendances    []AttendanceRecord    `json:"attendances,omitempty"`    // å‡ºå‹¤è®°å½•
    Consumptions   []SessionConsumption  `json:"consumptions,omitempty"`   // æ¶ˆè¯¾è®°å½•
}
```

### ğŸ› ï¸ å¼€å‘ç¯å¢ƒè¦æ±‚
- Go 1.21+ (åç«¯å¼€å‘)
- Node.js 16+ (å‰ç«¯å¼€å‘)
- Git (ç‰ˆæœ¬æ§åˆ¶)

### ğŸ“‹ å¼€å‘è§„èŒƒ
- **ä»£ç é£æ ¼**: Goä½¿ç”¨gofmtæ ¼å¼åŒ–ï¼Œå‰ç«¯ä½¿ç”¨ESLint + Prettier
- **APIè®¾è®¡**: éµå¾ªRESTfulåŸåˆ™ï¼Œç»Ÿä¸€è¿”å›æ ¼å¼
- **ç±»å‹å®‰å…¨**: å‰ç«¯ä½¿ç”¨TypeScriptï¼Œåç«¯ä½¿ç”¨ç»“æ„ä½“éªŒè¯
- **æäº¤è§„èŒƒ**: ä½¿ç”¨Conventional Commitsæ ¼å¼

### ğŸ”§ æ·»åŠ æ–°åŠŸèƒ½æµç¨‹
1. **åç«¯**: `models/` â†’ `handlers/` â†’ `services/`
2. **å‰ç«¯**: `types/` â†’ `services/` â†’ `components/pages/`
3. **æµ‹è¯•**: å…ˆæµ‹è¯•APIï¼Œå†æµ‹è¯•UIäº¤äº’

### ğŸ“¦ éƒ¨ç½²å»ºè®®
- **åç«¯**: å¯éƒ¨ç½²åˆ°Railwayã€Renderã€Herokuç­‰æ”¯æŒGoçš„å¹³å°
- **å‰ç«¯**: å¯éƒ¨ç½²åˆ°Vercelã€Netlifyç­‰é™æ€æ‰˜ç®¡å¹³å°
- **æ•°æ®åº“**: å¼€å‘ç”¨SQLiteï¼Œç”Ÿäº§å»ºè®®PostgreSQL
- **æ–‡ä»¶å­˜å‚¨**: å¼€å‘æœ¬åœ°å­˜å‚¨ï¼Œç”Ÿäº§å»ºè®®ä½¿ç”¨äº‘å­˜å‚¨æœåŠ¡

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„APIæ¥å£ï¼Ÿ
**A**: 
1. åœ¨ `backend-go/models/` å®šä¹‰æ•°æ®ç»“æ„
2. åœ¨ `backend-go/handlers/` ç¼–å†™å¤„ç†å‡½æ•°
3. åœ¨ `main.go` ä¸­æ³¨å†Œè·¯ç”±
4. åœ¨ `frontend/src/services/` æ·»åŠ APIè°ƒç”¨

### Q: å¦‚ä½•ä¿®æ”¹æ•°æ®åº“ç»“æ„ï¼Ÿ
**A**: 
1. ä¿®æ”¹ `backend-go/models/` ä¸­çš„æ¨¡å‹
2. è¿è¡Œ `go run scripts/migrate.go` è¿›è¡Œæ•°æ®åº“è¿ç§»
3. æ›´æ–°ç›¸å…³çš„APIå’Œå‰ç«¯ä»£ç 

### Q: æ¨é€é€šçŸ¥ä¸å·¥ä½œæ€ä¹ˆåŠï¼Ÿ
**A**: 
1. ç¡®ä¿ç½‘ç«™å·²è·å¾—é€šçŸ¥æƒé™
2. æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒPWA
3. ç¡®è®¤Service Workerå·²æ­£ç¡®æ³¨å†Œ
4. æµè§ˆå™¨åœ°å€æ åº”æ˜¾ç¤ºğŸ””å›¾æ ‡

### Q: å¦‚ä½•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ
**A**: 
1. åç«¯ï¼šç¼–è¯‘Goç¨‹åº `go build -o app`
2. å‰ç«¯ï¼šæ„å»ºé™æ€æ–‡ä»¶ `npm run build`
3. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡(æ•°æ®åº“è¿æ¥ã€JWTå¯†é’¥ç­‰)
4. ä½¿ç”¨Dockeræˆ–ç›´æ¥éƒ¨ç½²åˆ°äº‘å¹³å°

### Q: æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼Ÿ
**A**: 
- åç«¯ï¼šä½¿ç”¨æ•°æ®åº“ç´¢å¼•ã€è¿æ¥æ± ã€ç¼“å­˜
- å‰ç«¯ï¼šä½¿ç”¨React.memoã€ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½
- æ•°æ®åº“ï¼šä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•

## ğŸ”— ç›¸å…³é“¾æ¥
- [Goå®˜æ–¹æ–‡æ¡£](https://golang.org/doc/)
- [Reactå®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Ant Design Mobile](https://mobile.ant.design/)
- [GORMæ–‡æ¡£](https://gorm.io/docs/)
- [Ginæ¡†æ¶æ–‡æ¡£](https://gin-gonic.com/docs/)

## è®¸å¯è¯

MIT License